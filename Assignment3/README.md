# Αρχιτεκτονική Υπολογιστών  
## Ομάδα 19
### Τσομλεκτσόγλου Βασίλης 8259
### Κουργιαντάκης Γιώργος 8592
### Asssignment 3
***
## Βήμα 1
### Ερώτημα 1  

Ο όρος **dynamic power** χαρακτηρίζει την ενέργεια που απαιτείται στην φόρτιση και εκφόρτωση χωρητικών φορτίων για την αλλαγή  κατάστασης του κυκλώματος.
Ο τύπος υπολογισμού είναι :``` P = a * C * Vdd * ΔV * fclk```
Έχουμε πως **C** είναι η συνολική χωρητικότητα, το **a(activity factor)** είναι ένας παράγοντας που καθορίζεται από τα accesses στη μνήμη σε έναν κύκλο ρολογιού,  **Vdd** η τάση τροφοδοσίας, **ΔV** η μεταβολή τάσης κατά της αλλαγή καταστάσεων και η **fclk** η συχνότητα του ρολογιού.  

Ο όρος **leakage** ή αλλιώς static power αναφέρεται στην ισχύ που προκύπτει από το ρεύμα διαρροής. Αυτό το ρεύμα με την σειρά του εξαρτάται από το πλάτος των τρανζίστορ και την λογική κατάσταση του εξαρτήματος.

Δυο είναι οι μηχανισμοί διαρροής(leakage).
 * To **Subthreshold Leakage** συμβαίνει όταν ένα μικρό ρεύμα περνά μεταξύ  Source και Drain σε off-state τρανζίστορ. 
 * **Gate Leakage** είναι το ρεύμα που διαρρέεται από το Gate και διαφέρει σημαντικά με την κατάσταση του εξαρτήματος.

Ο τύπος υπολογισμού του Leakage είναι ο εξής :``` P = Vdd * I(leakage)```.

Με **Vdd** την τάση τροφοδοσίας και **I(leakage)**  το ρεύμα διαρροής.

Τρέχοντας διαφορετικά προγράμματα σε έναν επεξεργαστή το **Dynamic Power** θα επηρεαστεί καθώς απαιτεί διαφορετικό πλήθος εναλλαγών καταστάσεων των κυκλωμάτων και θα αυξηθεί μαζί με το **α** που είναι το activity factor. Αν δυο τρανζίστορ λειτουργούν παράλληλα τότε η **Leakage** θα έχει μέγιστη τιμή ενώ αν είναι κατάσταση off τότε την ελάχιστη.
Ο χρόνος εκτέλεσης του προγράμματος δεν παίζει ξεκάθαρο ρόλοo, καθώς αυξημένος χρόνος μπορεί να οφείλεται σε μεγαλύτερο πλήθος εντολών ο οποίος επηρεάζει το **Dynamic Power** . Παρ όλα αυτά αν έχουμε ένα πρόγραμμα τότε αν και θα σπαταληθεί περισσότερη ενέργεια ο ρυθμός μεταβολής της ισχύς θα παραμείνει ο ίδιος.


### Ερώτημα 2  

Ο επεξεργαστής με 40 watt καταναλώνει 10 φορές μεγαλύτερη ισχύ από εκείνον των 4 Watt. Η διάρκεια μιας μπαταρίας εξαρτάται από την συνολική ενέργεια που δαπανάται. Οπότε αν ο πρώτος επεξεργαστής καταφέρει και εκτέλεση το ζητούμενο πρόγραμμα σε χρόνο μικρότερο του 1/10 του δευτέρου τότε θα είναι ενεργειακά πιο αποδοτικός. Συνεπώς μπορεί δώσει μεγαλύτερη διάρκεια μπαταρίας . Το mcPat δε μπορεί να δώσει λύση στο πρόβλημά μας καθώς δε μας δίνει το χρόνο εκτέλεσης του προγράμματος.


### Ερώτημα 3

Παρακάτω μπορούμε να δούμε τα αποτελέσματα μας από την σύγκριση των δυο επεξεργαστών **Xeon** και **ARM A9** ως προς την ενεργειακή τους απόδοση. Θα χρησιμοποιήσουμε τα _Runtime Dynamic_ και _Total Leakage_.

|   CPU      |Runtime Dynamic|Total Leakage |
|---      |   ---     |---       |
|    Xeon  | 72.9199 W    |   36.8319 W   |
| ARM A9 |2.96053 W |0.108687 W    |

Δίνεται πως πρέπει αν θεωρήσουμε τον **Xeon** 40 φορές πιο γρήγορο από τον **Α9**. Ετσι αν πούμε πως ο **Xeon** τρέξει ένα πρόγραμμα σε χρόνο t1 τότε θα πρέπει ο **A9** να τρέξει το ίδιο πρόγραμμα σε χρόνο t2 = 40t1. Επιπλέον μας δίνεται προϋπόθεση πως δεν έχουμε διακοπή λειτουργίας και θα πρέπει κανονικά να ολοκληρωθεί το _Total Leakage_ σε 40t1.
Αρά : 
```
Xeon : t1 * (Runtime Dynamic) + 40*t1*(Total Leakage) = 1546.1959t1 J
Arm A9 : (Runtime Dynamic + Total Leakage) * 40 * t1 = 122.76868t1 J 
```

Είναι ορατό πως για δεν γίνεται ο **Xeon** για αυτόν τον χρόνο λειτουργίας να είναι πιο αποδοτικός ενεργειακά από τον **Arm A9** καθώς απαιτεί 12 φορές περισσότερη ενέργεια.

## Βήμα 2
### Ερώτημα 1


Χρησιμοποιώντας τα αρχεία που προέκυψαν απο το assignment 2 . Και φορτονοντάς τα στο McPat μέσω μερικών Script. ‘Εχουμε τα παρακάτω αποτελέσματα .
Οι τιμές των Core αθροίστικα με των L2 για το Peak Power, Area, Subthreshold Leakage, Gate Leakage και Runtime Dynamic σε κάθε ένα από τα Benchmarks φαίνονται στους παρακάτω πίνακες.

* Mcf

| /n | Peak_Power (w) |       Area (mm^2) |       Subthreshold Leakage (W) |       Gate Leakage (W) |       Runtime Dynamic (W) |
|:--:|:--------------:|:-----------------:|:------------------------------:|:----------------------:|:-------------------------:|
|  1 |     3.78201    |      9.00175      |            1.0968814           |       0.007439484      |         0.11472858        |
|  2 |      3.807     |      9.07316      |           1.09943628           |       0.007457397      |        0.122877998        |
|  3 |     3.8508     |      11.08414     |           1.09820684           |       0.007638055      |         0.11543656        |
|  4 |     3.87595    |      11.15417     |           1.10076444           |       0.007656465      |         0.12348565        |
|  5 |     4.31494    |      11.33037     |            1.3763814           |       0.009848214      |         0.11473306        |
|  6 |     4.34695    |      11.4867      |           1.38262628           |       0.009886337      |        0.122878851        |
|  7 |     4.38373    |      13.41276     |           1.37770684           |       0.010046785      |         0.11544473        |
|  8 |     4.4159     |      13.56771     |           1.38395444           |       0.010085405      |         0.12348743        |
|  9 |     4.67857    |      11.62949     |            1.4962114           |       0.011080984      |         0.33537831        |
| 10 |     4.68901    |      11.70416     |           1.50067628           |       0.011107887      |        0.337457074        |
| 11 |     4.74735    |      13.71188     |           1.49753684           |       0.011279555      |         0.33663959        |
| 12 |     4.75796    |      13.78517     |           1.50200444           |       0.011306955      |         0.33863255        |
| 13 |     5.2115     |      13.9581      |            1.7757214           |       0.013489684      |         0.3353798         |
| 14 |     5.22896    |      14.11771     |           1.78386628           |       0.013536887      |        0.337410806        |
| 15 |     5.28029    |      16.04049     |           1.77704684           |       0.013688255      |         0.33665171        |
| 16 |     5.29791    |      16.19872     |           1.78519444           |       0.013735955      |         0.33863333        |

* Hmmer

| /n | Peak_Power (w) |       Area (mm^2) |       Subthreshold Leakage (W) |       Gate Leakage (W) |       Runtime Dynamic (W) |
|:--:|:--------------:|:-----------------:|:------------------------------:|:----------------------:|:-------------------------:|
|  1 |     3.78228    |      9.00046      |           1.09688628           |       0.007439987      |          0.100496         |
|  2 |     3.80838    |       9.1112      |           1.09948306           |       0.007464225      |         0.11105882        |
|  3 |     3.85123    |      11.08147     |           1.09821444           |       0.007639055      |         0.1037918         |
|  4 |     3.87688    |      11.15145     |           1.10078925           |       0.007659924      |         0.11219861        |
|  5 |                |         0         |                0               |            0           |             0             |
|  6 |                |         0         |                0               |            0           |             0             |
|  7 |                |         0         |                0               |            0           |             0             |
|  8 |                |         0         |                0               |            0           |             0             |
|  9 |     4.67883    |      11.6282      |           1.49621628           |       0.011081487      |         0.33241054        |
| 10 |     4.69039    |      11.7422      |           1.50072306           |       0.011114715      |         0.34117252        |
| 11 |     4.74778    |      13.70921     |           1.49754444           |       0.011280555      |         0.33399303        |
| 12 |     4.75888    |      13.78245     |           1.50202925           |       0.011310414      |         0.34201041        |
|    |                |                   |                                |                        |                           |
|    |                |                   |                                |                        |                           |
|    |                |                   |                                |                        |                           |
|    |                |                   |                                |                        |                           |

* Jeng 

| /n | Peak_Power (w) |       Area (mm^2) |       Subthreshold Leakage (W) |       Gate Leakage (W) |       Runtime Dynamic (W) |
|:--:|:--------------:|:-----------------:|:------------------------------:|:----------------------:|:-------------------------:|
|  1 |        3.78201 |           9.00175 |                      1.0968814 |            0.007439484 |                 0.0526302 |
|  2 |          3.807 |           9.07316 |                     1.09943628 |            0.007457397 |                  0.054633 |
|  3 |         3.8508 |          11.08414 |                     1.09820684 |            0.007638055 |                 0.0553701 |
|  4 |        3.87595 |          11.15417 |                     1.10076444 |            0.007656465 |                 0.0573962 |
|  5 |        4.31494 |          11.33037 |                      1.3763814 |            0.009848214 |                 0.0526305 |
|  6 |        4.34695 |           11.4867 |                     1.38262628 |            0.009886337 |                 0.0546329 |
|  7 |        4.38373 |          13.41276 |                     1.37770684 |            0.010046785 |                 0.0553705 |
|  8 |         4.4159 |          13.56771 |                     1.38395444 |            0.010085405 |                 0.0660876 |
|  9 |        4.67857 |          11.62949 |                      1.4962114 |            0.011080984 |                 0.1494875 |
| 10 |        4.68901 |          11.70416 |                     1.50067628 |            0.011107887 |                 0.1500676 |
| 11 |        4.74735 |          13.71188 |                     1.49753684 |            0.011279555 |                 0.1521882 |
| 12 |        4.75796 |          13.78517 |                     1.50200444 |            0.011306955 |                 0.1528523 |
| 13 |         5.2115 |           13.9581 |                      1.7757214 |            0.013489684 |                 0.1494884 |
| 14 |        5.22896 |          14.11771 |                     1.78386628 |            0.013536887 |                 0.1500686 |
| 15 |        5.28029 |          16.04049 |                     1.77704684 |            0.013688255 |                 0.1522296 |
| 16 |        5.29791 |          16.19872 |                     1.78519444 |            0.013735955 |                 0.1528533 |

* Libm 

| /n | Peak_Power (w) |       Area (mm^2) |       Subthreshold Leakage (W) |       Gate Leakage (W) |       Runtime Dynamic (W) |
|:--:|:--------------:|:-----------------:|:------------------------------:|:----------------------:|:-------------------------:|
|  1 |     3.78201    |      9.00175      |            1.0968814           |       0.007439484      |         0.0653383         |
|  2 |      3.807     |      9.07316      |           1.09943628           |       0.007457397      |         0.0710005         |
|  3 |     3.8508     |      11.08414     |           1.09820684           |       0.007638055      |           0.0675          |
|  4 |     3.87595    |      11.15417     |           1.10076444           |       0.007656465      |         0.0731258         |
|  5 |     4.31494    |      11.33037     |            1.3763814           |       0.009848214      |         0.0653396         |
|  6 |     4.34695    |      11.4867      |           1.38262628           |       0.009886337      |           0.071           |
|  7 |     4.38373    |      13.41276     |           1.37770684           |       0.010046785      |         0.0674995         |
|  8 |     4.4159     |      13.56771     |           1.38395444           |       0.010085405      |         0.0731276         |
|  9 |     4.67857    |      11.62949     |            1.4962114           |       0.011080984      |         0.2017026         |
| 10 |     4.68901    |      11.70416     |           1.50067628           |       0.011107887      |          0.203453         |
| 11 |     4.74735    |      13.71188     |           1.49753684           |       0.011279555      |         0.2039342         |
| 12 |     4.75796    |      13.78517     |           1.50200444           |       0.011306955      |         0.2056071         |
| 13 |     5.2115     |      13.9581      |            1.7757214           |       0.013489684      |         0.2017084         |
| 14 |     5.22896    |      14.11771     |           1.78386628           |       0.013536887      |         0.2034507         |
| 15 |     5.28029    |      16.04049     |           1.77704684           |       0.013688255      |         0.2039345         |
| 16 |     5.29791    |      16.19872     |           1.78519444           |       0.013735955      |         0.2056121         |

* Bzip

| /n | Peak_Power (w) |       Area (mm^2) |       Subthreshold Leakage (W) |       Gate Leakage (W) |       Runtime Dynamic (W) |
|:--:|:--------------:|:-----------------:|:------------------------------:|:----------------------:|:-------------------------:|
|  1 |     3.80838    |       9.1112      |           1.09948306           |       0.007464225      |         0.0939612         |
|  2 |      3.807     |      9.07316      |           1.09943628           |       0.007457397      |         0.0934736         |
|  3 |     3.8508     |      11.08414     |           1.09820684           |       0.007638055      |         0.0895877         |
|  4 |     3.87595    |      11.15417     |           1.10076444           |       0.007656465      |         0.0983807         |
|  5 |     4.31494    |      11.33037     |            1.3763814           |       0.009848214      |         0.0848271         |
|  6 |     4.34695    |      11.4867      |           1.38262628           |       0.009886337      |         0.0934681         |
|  7 |     4.38373    |      13.41276     |           1.37770684           |       0.010046785      |         0.0895878         |
|  8 |     4.4159     |      13.56771     |           1.38395444           |       0.010085405      |         0.0983811         |
|  9 |     4.67857    |      11.62949     |            1.4962114           |       0.011080984      |         0.30150463        |
| 10 |     4.68901    |      11.70416     |           1.50067628           |       0.011107887      |         0.30466823        |
| 11 |     4.74735    |      13.71188     |           1.49753684           |       0.011279555      |         0.3084905         |
| 12 |     4.75796    |      13.78517     |           1.50200444           |       0.011306955      |         0.3124944         |
| 13 |     5.2115     |      13.9581      |            1.7757214           |       0.013489684      |         0.30150517        |
| 14 |     5.22896    |      14.11771     |           1.78386628           |       0.013536887      |         0.30464222        |
| 15 |     5.28029    |      16.04049     |           1.77704684           |       0.013688255      |         0.3085053         |
| 16 |     5.29791    |      16.19872     |           1.78519444           |       0.013735955      |         0.3124845         |
